# Ralph Notification Configuration
# Copy to ~/.ralph.env and fill in your values
# Or run: ~/ralph/setup-notifications.sh (recommended)
#
# Then add to your shell profile (~/.bashrc or ~/.zshrc):
#   source ~/.ralph.env

# ============================================
# SLACK (https://api.slack.com/messaging/webhooks)
# ============================================
# 1. Go to https://api.slack.com/apps
# 2. Create a new app > From scratch
# 3. Enable Incoming Webhooks
# 4. Add webhook to workspace, select channel
# 5. Copy the webhook URL

RALPH_SLACK_WEBHOOK_URL=""
# RALPH_SLACK_CHANNEL="#dev-notifications"    # Optional: override channel
# RALPH_SLACK_USERNAME="Ralph"                 # Optional: bot display name
# RALPH_SLACK_ICON_EMOJI=":robot_face:"        # Optional: bot icon

# ============================================
# DISCORD
# ============================================
# 1. Open Discord server settings
# 2. Go to Integrations > Webhooks
# 3. Create webhook, copy URL

RALPH_DISCORD_WEBHOOK_URL=""
# RALPH_DISCORD_USERNAME="Ralph"               # Optional: bot display name
# RALPH_DISCORD_AVATAR_URL=""                  # Optional: bot avatar image URL

# ============================================
# TELEGRAM (https://core.telegram.org/bots)
# ============================================
# 1. Message @BotFather on Telegram
# 2. Send /newbot and follow prompts
# 3. Copy the bot token
# 4. Start a chat with your bot, send a message
# 5. Visit: https://api.telegram.org/bot<TOKEN>/getUpdates
# 6. Find your chat ID in the response

RALPH_TELEGRAM_BOT_TOKEN=""
RALPH_TELEGRAM_CHAT_ID=""

# ============================================
# EMAIL (SMTP, SendGrid, or AWS SES)
# ============================================
# Required for all email methods
RALPH_EMAIL_TO=""           # Recipient email (can be comma-separated)
RALPH_EMAIL_FROM=""         # Sender email address
RALPH_EMAIL_SUBJECT="Ralph Notification"  # Subject line prefix

# SMTP Configuration (Traditional Mail Servers)
# Use this for Gmail, Outlook, Yahoo, or your own mail server
RALPH_SMTP_HOST=""          # e.g., smtp.gmail.com
RALPH_SMTP_PORT="587"       # Usually 587 for TLS, 465 for SSL
RALPH_SMTP_USER=""          # SMTP username (often same as email)
RALPH_SMTP_PASSWORD=""      # SMTP password or app-specific password
RALPH_SMTP_TLS="true"       # Use TLS encryption (recommended)

# SendGrid API (Alternative to SMTP)
# Get API key from: https://sendgrid.com > Settings > API Keys
RALPH_SENDGRID_API_KEY=""   # Starts with 'SG.'

# AWS SES (Alternative to SMTP)
# Requires: AWS CLI installed, verified sender in SES
RALPH_AWS_SES_REGION=""     # e.g., us-east-1, eu-west-1
RALPH_AWS_ACCESS_KEY_ID=""  # IAM user access key
RALPH_AWS_SECRET_KEY=""     # IAM user secret key

# Email Options
RALPH_EMAIL_HTML="true"           # Send HTML emails (true/false)
RALPH_EMAIL_BATCH_DELAY="300"    # Seconds to wait before sending batch (0 to disable)
RALPH_EMAIL_BATCH_MAX="10"       # Max notifications per batch

# ============================================
# CUSTOM SCRIPT (proprietary integrations)
# ============================================
# For custom/proprietary integrations (database bridges, internal APIs, etc.)
# Your script receives the message as $1 and handles delivery however you need.
#
# Example script (my-notify.sh):
#   #!/bin/bash
#   MESSAGE="$1"
#   curl -X POST -d "text=$MESSAGE" https://internal.api/notify
#
# Use cases:
#   - Database-to-Slack bridge (insert into DB, service posts to Slack)
#   - Internal company notification API
#   - SMS or email gateway
#   - Custom webhook format

RALPH_CUSTOM_NOTIFY_SCRIPT=""

# ============================================
# NOTIFICATION BEHAVIOR
# ============================================
# Control how often progress notifications are sent
# Default: 5 (notify every 5th iteration to reduce noise)
# Set to 1 for notifications on every iteration

RALPH_NOTIFY_FREQUENCY=5

# ============================================
# QUICK START
# ============================================
# Option 1: Run the setup wizard (easiest)
#   ~/ralph/setup-notifications.sh
#
# Option 2: Manual setup
#   1. Copy this file: cp .env.example ~/.ralph.env
#   2. Edit ~/.ralph.env with your values
#   3. Add to shell profile: echo 'source ~/.ralph.env' >> ~/.bashrc
#   4. Reload: source ~/.bashrc
#   5. Test: ~/ralph/ralph.sh --test-notify
